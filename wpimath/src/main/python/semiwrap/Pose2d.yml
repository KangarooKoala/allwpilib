extra_includes:
- geometryToString.h
- wpystruct.h

functions:
  to_json:
    ignore: true
  from_json:
    ignore: true
classes:
  wpi::math::Pose2d:
    force_type_casters:
    - wpi::units::feet<>
    - wpi::units::meters<>
    - wpi::units::radians<>
    methods:
      Pose2d:
        overloads:
          '':
          Translation2d, Rotation2d:
          wpi::units::meters<>, wpi::units::meters<>, Rotation2d:
          const Eigen::Matrix3d&:
            rename: fromMatrix
            keepalive: []
      Translation:
      Rotation:
      RotateBy:
      TransformBy:
      RelativeTo:
      ToMatrix:
      Nearest:
        overloads:
          std::span<const Pose2d> [const]:
          std::initializer_list<Pose2d> [const]:
            ignore: true
      X:
      Y:
      operator+:
      operator-:
      operator==:
      operator*:
      operator/:
      RotateAround:

inline_code: |
  cls_Pose2d
    .def_static("fromFeet", [](wpi::units::feet<> x, wpi::units::feet<> y, Rotation2d r) {
      return std::make_unique<Pose2d>(x, y, r);
    }, py::arg("x"), py::arg("y"), py::arg("r"))
    .def_static("fromFeet", [](wpi::units::feet<> x, wpi::units::feet<> y, wpi::units::radians<> angle) {
      return std::make_unique<Pose2d>(x, y, Rotation2d(angle));
    }, py::arg("x"), py::arg("y"), py::arg("angle"))
    .def(py::init([](wpi::units::meters<> x, wpi::units::meters<> y, wpi::units::radians<> angle) {
      return std::make_unique<Pose2d>(x, y, angle);
    }), py::arg("x"), py::arg("y"), py::arg("angle"))
    .def_property_readonly("x", &Pose2d::X)
    .def_property_readonly("y", &Pose2d::Y)
    .def_property_readonly("x_feet", [](Pose2d * self) -> wpi::units::feet<> {
      return self->X();
    })
    .def_property_readonly("y_feet", [](Pose2d * self) -> wpi::units::feet<> {
      return self->Y();
    })
    .def("__repr__", py::overload_cast<const Pose2d&>(&rpy::toString));

  SetupWPyStruct<wpi::math::Pose2d>(cls_Pose2d);
